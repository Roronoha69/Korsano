{"ast":null,"code":"import { css as _css } from \"styled-components\";\n\nvar _jsxFileName = \"/mnt/c/Users/mbodj/Downloads/treact-ui/src/myComponents/Succes.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Stripe from 'stripe';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport axios from \"axios\";\n//eslint-disable-line\nimport styled from 'styled-components';\nimport AnimationRevealPage from \"helpers/AnimationRevealPage.js\";\nimport Hero from \"components/hero/TwoColumnWithVideo.js\";\nimport Phone from \"images/ordi1.png\";\nimport Features from \"components/features/ThreeColWithSideImage.js\";\nimport MainFeature from \"components/features/TwoColWithButton.js\";\nimport Footer from \"components/footers/MiniCenteredFooter.js\";\nimport FeatureWithSteps from \"components/features/TwoColWithSteps.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Success = () => {\n  _s();\n\n  const [backendData, SetData] = useState();\n  const {\n    user,\n    isLoading\n  } = useAuth0();\n  const [stateEmail, setEmail] = useState('mbodje.justin@gmail.com');\n\n  const test = () => {\n    if (!isLoading && user) {\n      const {\n        email\n      } = user;\n      setEmail(email);\n      console.log(email);\n    }\n  }; // Changement post a get a fait bug\n\n\n  useEffect(() => {\n    //   fetch(\"/stripe\").then(\n    //     response => response.json()\n    //   ).then(\n    //     data => {\n    //       SetData(data)\n    //     }\n    //   )\n    let timer1 = setTimeout(() => test(), 2000);\n  });\n\n  const fetchData = async () => {\n    fetch(\"/user\").then(response => response.json()).then(data => {\n      SetData(data);\n    });\n  };\n\n  const sendBack = async event => {\n    const response = await axios.post('https://serveur-korsano.herokuapp.com/stripe', {\n      userEmail: `${stateEmail}` //userEmail: `mbodje.justin@gmail.com`,\n\n    });\n    console.log(response.data);\n\n    if (response.data = true) {\n      SetData(`${stateEmail} fait parti des clients`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Success page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendBack,\n      children: \"Send Backend\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: sendBack,\n      children: \"get data\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [backendData, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Success, \"WM1zHjs7/Wm2aQ039RRP0pCx0Dw=\", false, function () {\n  return [useAuth0];\n});\n\n_c = Success;\nexport default Success;\n\nvar _c;\n\n$RefreshReg$(_c, \"Success\");","map":{"version":3,"names":["React","useState","useEffect","Stripe","useAuth0","axios","styled","AnimationRevealPage","Hero","Phone","Features","MainFeature","Footer","FeatureWithSteps","Success","backendData","SetData","user","isLoading","stateEmail","setEmail","test","email","console","log","timer1","setTimeout","fetchData","fetch","then","response","json","data","sendBack","event","post","userEmail"],"sources":["/mnt/c/Users/mbodj/Downloads/treact-ui/src/myComponents/Succes.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Stripe from 'stripe';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport axios from \"axios\";\r\n\r\n\r\nimport tw from \"twin.macro\";\r\nimport { css } from \"styled-components/macro\"; //eslint-disable-line\r\nimport styled from 'styled-components';\r\nimport AnimationRevealPage from \"helpers/AnimationRevealPage.js\";\r\nimport Hero from \"components/hero/TwoColumnWithVideo.js\";\r\nimport Phone from \"images/ordi1.png\";\r\nimport Features from \"components/features/ThreeColWithSideImage.js\";\r\nimport MainFeature from \"components/features/TwoColWithButton.js\";\r\n\r\nimport Footer from \"components/footers/MiniCenteredFooter.js\";\r\nimport FeatureWithSteps from \"components/features/TwoColWithSteps.js\";\r\n\r\n\r\nconst Success = () => {\r\n\r\n const [backendData, SetData] = useState()\r\n const { user, isLoading } = useAuth0();\r\n const [stateEmail, setEmail] = useState('mbodje.justin@gmail.com')\r\n \r\nconst test = () =>{\r\n    if (!isLoading && user) {\r\n const { email } = user;\r\n setEmail(email)\r\n   console.log(email);\r\n }\r\n}\r\n\r\n// Changement post a get a fait bug\r\n\r\n  useEffect(()=>{\r\n//   fetch(\"/stripe\").then(\r\n//     response => response.json()\r\n//   ).then(\r\n//     data => {\r\n//       SetData(data)\r\n//     }\r\n//   )\r\n\r\nlet timer1 = setTimeout(() => test(), 2000);\r\n\r\n  })\r\n\r\n\r\n  const fetchData = async() =>{\r\n      fetch(\"/user\").then(\r\n    response => response.json()\r\n  ).then(\r\n    data => {\r\n      SetData(data)\r\n    }\r\n  )\r\n  }\r\n\r\n\r\nconst sendBack = async(event) => {\r\n  \r\n  \r\n    const response = await axios.post('https://serveur-korsano.herokuapp.com/stripe',\r\n    {\r\n      userEmail: `${stateEmail}`,\r\n     //userEmail: `mbodje.justin@gmail.com`,\r\n    });\r\n\r\n    \r\n    console.log(response.data);\r\n    if (response.data = true){\r\n       SetData(`${stateEmail} fait parti des clients`)\r\n    }\r\n   \r\n}\r\n\r\n    return (\r\n      <div>\r\n        <h1>Success page</h1>\r\n      \r\n\r\n        <button onClick={sendBack}>\r\n          Send Backend\r\n        </button>\r\n<br /> \r\n        <button onClick={sendBack}>\r\n          get data\r\n        </button>\r\n\r\n        <p>{backendData} </p>\r\n\r\n        \r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default Success;\r\n  "],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,QAAT,QAAyB,oBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAI+C;AAC/C,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,mBAAP,MAAgC,gCAAhC;AACA,OAAOC,IAAP,MAAiB,uCAAjB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;AACA,OAAOC,QAAP,MAAqB,8CAArB;AACA,OAAOC,WAAP,MAAwB,yCAAxB;AAEA,OAAOC,MAAP,MAAmB,0CAAnB;AACA,OAAOC,gBAAP,MAA6B,wCAA7B;;;AAGA,MAAMC,OAAO,GAAG,MAAM;EAAA;;EAErB,MAAM,CAACC,WAAD,EAAcC,OAAd,IAAyBf,QAAQ,EAAvC;EACA,MAAM;IAAEgB,IAAF;IAAQC;EAAR,IAAsBd,QAAQ,EAApC;EACA,MAAM,CAACe,UAAD,EAAaC,QAAb,IAAyBnB,QAAQ,CAAC,yBAAD,CAAvC;;EAED,MAAMoB,IAAI,GAAG,MAAK;IACd,IAAI,CAACH,SAAD,IAAcD,IAAlB,EAAwB;MAC3B,MAAM;QAAEK;MAAF,IAAYL,IAAlB;MACAG,QAAQ,CAACE,KAAD,CAAR;MACEC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACD;EACD,CAND,CANsB,CActB;;;EAEEpB,SAAS,CAAC,MAAI;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IAEA,IAAIuB,MAAM,GAAGC,UAAU,CAAC,MAAML,IAAI,EAAX,EAAe,IAAf,CAAvB;EAEG,CAXQ,CAAT;;EAcA,MAAMM,SAAS,GAAG,YAAU;IACxBC,KAAK,CAAC,OAAD,CAAL,CAAeC,IAAf,CACFC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADV,EAEFF,IAFE,CAGFG,IAAI,IAAI;MACNhB,OAAO,CAACgB,IAAD,CAAP;IACD,CALC;EAOH,CARD;;EAWF,MAAMC,QAAQ,GAAG,MAAMC,KAAN,IAAgB;IAG7B,MAAMJ,QAAQ,GAAG,MAAMzB,KAAK,CAAC8B,IAAN,CAAW,8CAAX,EACvB;MACEC,SAAS,EAAG,GAAEjB,UAAW,EAD3B,CAEC;;IAFD,CADuB,CAAvB;IAOAI,OAAO,CAACC,GAAR,CAAYM,QAAQ,CAACE,IAArB;;IACA,IAAIF,QAAQ,CAACE,IAAT,GAAgB,IAApB,EAAyB;MACtBhB,OAAO,CAAE,GAAEG,UAAW,yBAAf,CAAP;IACF;EAEJ,CAfD;;EAiBI,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAQ,OAAO,EAAEc,QAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eAON;MAAA;MAAA;MAAA;IAAA,QAPM,eAQE;MAAQ,OAAO,EAAEA,QAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QARF,eAYE;MAAA,WAAIlB,WAAJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAZF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkBD,CA5EH;;GAAMD,O;UAGuBV,Q;;;KAHvBU,O;AA8EJ,eAAeA,OAAf"},"metadata":{},"sourceType":"module"}