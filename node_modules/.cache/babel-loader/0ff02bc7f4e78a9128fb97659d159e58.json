{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/mbodj/Downloads/treact-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/mnt/c/Users/mbodj/Downloads/treact-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/mnt/c/Users/mbodj/Downloads/treact-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Stripe from'stripe';import{useAuth0}from'@auth0/auth0-react';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Success=function Success(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),backendData=_useState2[0],SetData=_useState2[1];var _useAuth=useAuth0(),user=_useAuth.user,isLoading=_useAuth.isLoading;var _useState3=useState('mbodje.justin@gmail.com'),_useState4=_slicedToArray(_useState3,2),stateEmail=_useState4[0],setEmail=_useState4[1];var test=function test(){if(!isLoading&&user){var email=user.email;setEmail(email);console.log(email);}};// Changement post a get a fait bug\nuseEffect(function(){//   fetch(\"/stripe\").then(\n//     response => response.json()\n//   ).then(\n//     data => {\n//       SetData(data)\n//     }\n//   )\n//let timer1 = setTimeout(() => test(), 4000);\n});var sendBack=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('http://localhost:8080/stripe',{userEmail:\"\".concat(stateEmail)//userEmail: `mbodje.justin@gmail.com`,\n});case 2:response=_context.sent;case 3:case\"end\":return _context.stop();}}},_callee);}));return function sendBack(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/_jsx(\"p\",{children:backendData}),/*#__PURE__*/_jsx(\"button\",{onClick:sendBack,children:\"Send Back\"})]});};export default Success;","map":{"version":3,"names":["React","useState","useEffect","Stripe","useAuth0","axios","Success","backendData","SetData","user","isLoading","stateEmail","setEmail","test","email","console","log","sendBack","event","post","userEmail","response"],"sources":["/mnt/c/Users/mbodj/Downloads/treact-ui/src/myComponents/Succes.js"],"sourcesContent":["import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Stripe from 'stripe';\r\nimport { useAuth0 } from '@auth0/auth0-react';\r\nimport axios from \"axios\";\r\n\r\n\r\n\r\n\r\nconst Success = () => {\r\n\r\n const [backendData, SetData] = useState()\r\n const { user, isLoading } = useAuth0();\r\n const [stateEmail, setEmail] = useState('mbodje.justin@gmail.com')\r\n\r\n \r\nconst test = () =>{\r\n    if (!isLoading && user) {\r\n const { email } = user;\r\n setEmail(email)\r\n   console.log(email);\r\n }\r\n}\r\n\r\n// Changement post a get a fait bug\r\n\r\n  useEffect(()=>{\r\n//   fetch(\"/stripe\").then(\r\n//     response => response.json()\r\n//   ).then(\r\n//     data => {\r\n//       SetData(data)\r\n//     }\r\n//   )\r\n\r\n//let timer1 = setTimeout(() => test(), 4000);\r\n\r\n  })\r\n\r\n\r\n\r\n\r\nconst sendBack = async(event) => {\r\n  \r\n  \r\n    const response = await axios.post('http://localhost:8080/stripe',\r\n    {\r\n      userEmail: `${stateEmail}`,\r\n     //userEmail: `mbodje.justin@gmail.com`,\r\n    });\r\n\r\n}\r\n\r\n    return (\r\n      <div>\r\n        <h1>Success</h1>\r\n        <h2>Thank you for your purchase!</h2>\r\n      <p>{backendData}</p>\r\n\r\n        <button onClick={sendBack}>\r\n          Send Back\r\n        </button>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default Success;\r\n  "],"mappings":"oYAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,OAAP,KAAmB,QAAnB,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAKA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAErB,cAA+BL,QAAQ,EAAvC,wCAAOM,WAAP,eAAoBC,OAApB,eACA,aAA4BJ,QAAQ,EAApC,CAAQK,IAAR,UAAQA,IAAR,CAAcC,SAAd,UAAcA,SAAd,CACA,eAA+BT,QAAQ,CAAC,yBAAD,CAAvC,yCAAOU,UAAP,eAAmBC,QAAnB,eAGD,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAK,CACd,GAAI,CAACH,SAAD,EAAcD,IAAlB,CAAwB,CAC3B,GAAQK,MAAR,CAAkBL,IAAlB,CAAQK,KAAR,CACAF,QAAQ,CAACE,KAAD,CAAR,CACEC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CACD,CAND,CAQA;AAEEZ,SAAS,CAAC,UAAI,CAChB;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEG,CAXQ,CAAT,CAgBF,GAAMe,SAAQ,4FAAG,iBAAMC,KAAN,uJAGUb,MAAK,CAACc,IAAN,CAAW,8BAAX,CACvB,CACEC,SAAS,WAAKT,UAAL,CACV;AAFD,CADuB,CAHV,QAGPU,QAHO,qEAAH,kBAARJ,SAAQ,4CAAd,CAWI,mBACE,oCACE,+BADF,cAEE,oDAFF,cAGA,mBAAIV,WAAJ,EAHA,cAKE,eAAQ,OAAO,CAAEU,QAAjB,uBALF,GADF,CAWD,CAvDH,CAyDE,cAAeX,QAAf"},"metadata":{},"sourceType":"module"}